<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Events Management App</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="sidebar__header">
          <h1 class="sidebar__title">Events</h1>
          <p class="sidebar__subtitle">Management</p>
        </div>

        <nav class="sidebar__nav">
          <!-- Screen buttons (students will add JS to handle click + switch screens) -->
          <button class="sidebar__btn" data-screen="stats">
            <span class="sidebar__icon">üìä</span>
            <span class="sidebar__label">Statistics</span>
          </button>

          <button class="sidebar__btn" data-screen="add">
            <span class="sidebar__icon">‚ûï</span>
            <span class="sidebar__label">Add Event</span>
          </button>

          <button class="sidebar__btn" data-screen="list">
            <span class="sidebar__icon">üìã</span>
            <span class="sidebar__label">Events</span>
          </button>

          <button class="sidebar__btn" data-screen="archive">
            <span class="sidebar__icon">üóÑÔ∏è</span>
            <span class="sidebar__label">Archive</span>
          </button>
        </nav>

        <footer class="sidebar__footer">
          <p class="text-muted">UI Kit v1.0</p>
        </footer>
      </aside>

      <!-- MAIN CONTENT -->
      <main class="main">
        <!-- Page Header (content changes based on active screen) -->
        <header class="page-header">
          <div class="page-header__content">
            <h2 class="page-title" id="page-title"></h2>
            <p class="page-subtitle" id="page-subtitle"></p>
          </div>
        </header>

        <!-- SCREENS (only one visible at a time) -->
        <div class="screens">
          <!-- SCREEN 1: Statistics (DEFAULT) -->
          <section class="screen" data-screen="stats">
            <div class="screen__content">
              <!-- STAT CARDS (JS will update values) -->
              <div class="stats-grid">
                <article class="stat-card">
                  <p class="stat-card__label">Total Events</p>
                  <p class="stat-card__value" id="stat-total-events">0</p>
                </article>

                <article class="stat-card">
                  <p class="stat-card__label">Total Seats</p>
                  <p class="stat-card__value" id="stat-total-seats">0</p>
                </article>

                <article class="stat-card">
                  <p class="stat-card__label">Total Revenue</p>
                  <p class="stat-card__value" id="stat-total-price">$0</p>
                </article>
              </div>

              <!-- Placeholder for chart (students can add Chart.js or similar) -->
              <div class="chart-placeholder">
                <!--  <p class="text-muted">
                  üìà Chart will be rendered here by JavaScript
                </p> -->
                <canvas
                  id="myChart"
                  style="width: 100%; display: inline"
                ></canvas>
              </div>
            </div>
          </section>

          <!-- SCREEN 2: Add Event -->
          <section class="screen" data-screen="add">
            <div class="screen__content">
              <form class="form" id="event-form">
                <!-- Error messages area -->
                <ul
                  class="alert alert--error is-hidden"
                  id="form-errors"
                  style="
                    list-style: none;
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                  "
                ></ul>

                <!-- Title -->
                <div class="form__group">
                  <label class="form__label" for="event-title"
                    >Event Title</label
                  >
                  <input
                    type="text"
                    id="event-title"
                    class="input"
                    placeholder="Enter event title"
                  />
                </div>

                <!-- Image URL -->
                <div class="form__group">
                  <label class="form__label" for="event-image">Image URL</label>
                  <input
                    type="url"
                    id="event-image"
                    class="input"
                    placeholder="https://example.com/image.jpg"
                    required
                  />
                </div>

                <!-- Description -->
                <div class="form__group">
                  <label class="form__label" for="event-description"
                    >Description</label
                  >
                  <textarea
                    id="event-description"
                    class="input"
                    placeholder="Describe the event..."
                    rows="4"
                    required
                  ></textarea>
                </div>

                <!-- Seats -->
                <div class="form__group">
                  <label class="form__label" for="event-seats"
                    >Number of Seats</label
                  >
                  <input
                    type="number"
                    id="event-seats"
                    class="input"
                    placeholder="100"
                    min="1"
                    required
                  />
                </div>

                <!-- Base Price -->
                <div class="form__group">
                  <label class="form__label" for="event-price"
                    >Base Price ($)</label
                  >
                  <input
                    type="number"
                    id="event-price"
                    class="input"
                    placeholder="50.00"
                    min="1"
                    step="0.01"
                    required
                  />
                </div>

                <!-- VARIANTS SECTION -->
                <fieldset class="variants">
                  <legend class="variants__title">
                    Pricing Variants (Optional)
                    <button
                      type="button"
                      class="btn btn--small"
                      id="btn-add-variant"
                    >
                      + Add Variant
                    </button>
                  </legend>

                  <!-- Variant rows will be appended here by JS -->
                  <div id="variants-list" class="variants__list">
                    <!-- EXAMPLE: Students should clone this structure -->
                    <div id="variants-parent" class="variant-list"></div>
                    <div class="variant-row">
                      <input
                        type="text"
                        class="input variant-row__name"
                        placeholder="Variant name (e.g., 'Early Bird')"
                      />
                      <input
                        type="number"
                        class="input variant-row__qty"
                        placeholder="Qty"
                        min="1"
                      />
                      <input
                        type="number"
                        class="input variant-row__value"
                        placeholder="Value"
                        step="0.01"
                        min="1"
                      />
                      <select class="select variant-row__type">
                        <option value="fixed">Fixed Price</option>
                        <option value="percentage">Percentage Off</option>
                      </select>
                      <!--                         <button type="button" class="btn btn--danger btn--small variant-row__remove">Remove</button>
 -->
                      <button
                        type="button"
                        class="btn btn--primary btn--small variant-row__add"
                        id="add-variant-btn"
                      >
                        add
                      </button>
                    </div>
                  </div>
                </fieldset>

                <!-- Submit Button -->
                <div class="form__actions">
                  <button type="submit" class="btn btn--primary" id="submit">
                    Create Event
                  </button>
                  <button type="reset" class="btn btn--ghost">Clear</button>
                </div>
              </form>
            </div>
          </section>

          <!-- SCREEN 3: Events List -->
          <section class="screen" data-screen="list">
            <div class="screen__content">
              <!-- Search & Sort Controls -->
              <div class="controls">
                <input
                  type="text"
                  id="search-events"
                  class="input"
                  placeholder="üîç Search events by title..."
                />
                <select id="sort-events" class="select">
                  <option value="title-asc">Sort: Title (A-Z)</option>
                  <option value="title-desc">Sort: Title (Z-A)</option>
                  <option value="price-asc">Sort: Price (Low to High)</option>
                  <option value="price-desc">Sort: Price (High to Low)</option>
                  <option value="seats-asc">Sort: Seats (Low to High)</option>
                </select>
              </div>

              <!-- Events Table -->
              <table class="table" id="events-table">
                <thead class="table__head">
                  <tr>
                    <th>#</th>
                    <th>Title</th>
                    <th>Seats</th>
                    <th>Price</th>
                    <th>Variants</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody class="table__body">
                  <!-- EXAMPLE: Students will populate this with JS -->
                  <!-- 
                                <tr class="table__row" data-event-id="1">
                                    <td>1</td>
                                    <td>Summer Festival</td>
                                    <td>100</td>
                                    <td>$49.99</td>
                                    <td><span class="badge">3</span></td>
                                    <td>
                                        <button class="btn btn--small" data-action="details" data-event-id="1">Details</button>
                                        <button class="btn btn--small" data-action="edit" data-event-id="1">Edit</button>
                                        <button class="btn btn--danger btn--small" data-action="archive" data-event-id="1">Delete</button>
                                    </td>
                                </tr>
                                -->
                </tbody>
              </table>

              <!-- Pagination -->
              <div class="pagination" id="events-pagination">
                <!-- JS will generate pagination buttons -->
              </div>
            </div>
          </section>

          <!-- SCREEN 4: Archive -->
          <section class="screen" data-screen="archive">
            <div class="screen__content">
              <table class="table" id="archive-table">
                <thead class="table__head">
                  <tr>
                    <th>#</th>
                    <th>Title</th>
                    <th>Seats</th>
                    <th>Price</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody class="table__body" id="t-archive">
                  <!-- EXAMPLE: Students will populate this with JS -->
                  <!-- 
                                <tr class="table__row" data-event-id="1">
                                    <td>1</td>
                                    <td>Old Event</td>
                                    <td>50</td>
                                    <td>$29.99</td>
                                    <td>
                                        <button class="btn btn--small" data-action="restore" data-event-id="1">Restore</button>
                                    </td>
                                </tr>
                                -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </main>
    </div>

    <!-- MODAL (hidden by default) -->
    <div class="modal is-hidden" id="event-modal">
      <div class="modal__overlay"></div>
      <div class="modal__content">
        <header class="modal__header">
          <h3 class="modal__title" id="modal-title">Event Details</h3>
          <button class="modal__close" data-action="close-modal">
            &times;
          </button>
        </header>
        <div
          class="modal__body"
          id="modal-body"
          style="display: flex; flex-direction: column; gap: 1rem"
        >
          <!-- Content populated by JS -->
        </div>
        <form action="" class="modal__body" id="edit-form" style="display: flex; flex-direction: column; justify-content: center; gap: .5rem;">
          <div style="display: flex; flex-direction: column; gap: 0.5rem">
            <label for="title" style="font-weight: 500">Title:</label>
            <input
              type="text"
              name="title"
              id="edit-title"
              style="min-height: 30px; border-radius: 8px; padding: .5rem;"
            />
          </div>
          <div style="display: flex; flex-direction: column; gap: 0.5rem">
            <label for="image" style="font-weight: 500">Image:</label>
            <input
              type="url"
              name="image"
              id="edit-image"
              style="min-height: 30px; border-radius: 8px; padding: .5rem;"
            />
          </div>
          <div style="display: flex; flex-direction: column; gap: 0.5rem">
            <label for="description" style="font-weight: 500"
              >Description:</label
            >
            <textarea
              name="description"
              id="edit-desc"
              style="min-height: 30px; border-radius: 8px; padding: .5rem;"
            ></textarea>
          </div>
          <div style="display: flex; flex-direction: column; gap: 0.5rem">
            <label for="seats" style="font-weight: 500">Seats:</label>
            <input
              type="number"
              name="seats"
              min="1"
              max="1000"
              id="edit-seat"
              style="min-height: 30px; border-radius: 8px; padding: .5rem;"
            />
          </div>
          <div style="display: flex; flex-direction: column; gap: 0.5rem">
            <label for="price" style="font-weight: 500">Price:</label>
            <input
              type="number"
              name="price"
              id="edit-price"
              min="10"
              max="900"
              style="min-height: 30px; border-radius: 8px; padding: .5rem;"
            />
          </div>
          <ul class="show-variants-edit" style="list-style: none"></ul>
<!--           <fieldset
            class=""
            style="
              padding-inline: 0.5rem;
              padding-block: 0.5rem;
              margin-block: 1rem;
            "
          >
            <legend class="variants__title">
              Pricing Variants (Optional)
              <button
                type="button"
                class="btn btn--small"
                id="btn-add-variant-edit"
              >
                + Add Variant
              </button>
            </legend>


            <div id="variants-list edit-variants" class="variants__list">
              <div id="variants-parent" class="variant-list"></div>
              <div
                class="variant-row"
                style="display: flex; align-items: center"
              >
                <input
                  type="text"
                  class="input variant-row__name"
                  placeholder="Variant name (e.g., 'Early Bird')"
                />
                <input
                  type="number"
                  class="input variant-row__qty"
                  placeholder="Qty"
                  min="1"
                />
                <input
                  type="number"
                  class="input variant-row__value"
                  placeholder="Value"
                  step="0.01"
                  min="1"
                />
                <select class="select variant-row__type">
                  <option value="fixed">Fixed Price</option>
                  <option value="percentage">Percentage Off</option>
                </select>
                <button
                  type="button"
                  class="btn btn--primary btn--small variant-row__add"
                  id="add-variant-btn"
                >
                  add
                </button>
              </div>
            </div>

          </fieldset> -->
          <button type="submit" class="btn btn--primary">Submit</button>
        </form>
      </div>
    </div>

    <!-- SAMPLE DATA (for reference) -->
    <!-- 
    const sampleEvents = [
        {
            id: 1,
            title: "Summer Festival",
            image: "https://...",
            description: "Join us for an amazing summer festival",
            seats: 100,
            price: 49.99,
            variants: [
                { id: 1, name: "Early Bird", qty: 20, value: 10, type: "fixed" },
                { id: 2, name: "Student", qty: 30, value: 20, type: "percentage" }
            ]
        },
        ...
    ];

    const sampleArchive = [];
    -->
    <script type="importmap">
      {
        "imports": {
          "@kurkle/color": "/node_modules/@kurkle/color/dist/color.esm.js",
          "chart.js": "/node_modules/chart.js/dist/chart.js",
          "moment": "/node_modules/moment/dist/moment.js"
        }
      }
    </script>

    <!-- <script type="module" src="dist/index.js" defer></script> -->
    <script type="module" src="dist/index.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
  </body>
</html>
